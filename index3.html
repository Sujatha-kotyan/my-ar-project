<!DOCTYPE html>
<html>
<head>
  <title>Chapter 8 â€“ Model Control</title>

  <script type="module"
    src="https://unpkg.com/@google/model-viewer/dist/model-viewer.min.js">
  </script>

  <style>
    body {
      margin: 0;
      background: #111;
    }
    model-viewer {
      width: 100vw;
      height: 100vh;
    }
  </style>
</head>

<body>

<model-viewer
  id="viewer"
  src="https://modelviewer.dev/shared-assets/models/Astronaut.glb"
  camera-controls
  animation-name="Idle"
  autoplay>
</model-viewer>
<script>
const viewer = document.getElementById("viewer");

window.addEventListener("message", (event) => {
  console.log("ðŸ“© Received:", event.data);

  if (!viewer) return;

  switch (Number(event.data)) {
    case 1:
      viewer.animationName = "Idle";
      viewer.play();
      break;

    case 2:
      viewer.animationName = "Jump";
      viewer.play();
      break;

    case 3:
      viewer.animationName = "Wave";
      viewer.play();
      break;

    case 4:
      viewer.animationName = "Dance";
      viewer.play();
      break;
  }
});
</script>



</body>
</html>
